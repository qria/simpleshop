{%extends "base.html"%}

{%block title%}Simple Shop{% endblock %}

{%block body%}
    <div class="jumbotron">
        <h1 class="main_logo">Simple Shop</h1>
        <form id="main_search_form" action="/search" method="POST">
            <div id="search" class="input-group input-group-lg">
                <input class="form-control typeahead" type="search" name="query" placeholder="아무거나 입력해 보세요!"/>
                    <div class="input-group-btn">
                        <button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
        </form>
    </div>

{%endblock%}

{% block js %}
{{ super() }}
    <script>

var product_typeahead = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  remote: {
    url: './api/typeahead/%s',
    wildcard: '%s'
  }
});
$('.typeahead').typeahead({
  hint: true,
  highlight: true,
  minLength: 1
},
{
  source: product_typeahead
});
    </script>
{% endblock %}